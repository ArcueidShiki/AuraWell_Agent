/* src/assets/css/main.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* CSS 变量定义，方便在JS或覆盖第三方库样式时使用 */
    --color-primary: theme('colors.primary.500');
    --color-text-base: theme('colors.gray.700');
    --color-text-muted: theme('colors.gray.600');
    --color-bg-base: theme('colors.white');
    --color-bg-elevated: theme('colors.gray.50');
    --color-border: theme('colors.gray.200');

    /* 标准化卡片圆角和阴影 */
    --border-radius-card: theme('borderRadius.2xl');
    --shadow-card: theme('boxShadow.soft');
    --shadow-card-hover: theme('boxShadow.medium');
  }

  /* 定义深色模式下的变量 */
  .dark {
    --color-primary: theme('colors.primary.500');
    --color-text-base: theme('colors.white');
    --color-text-muted: theme('colors.gray.300');
    --color-bg-base: theme('colors.gray.900');
    --color-bg-elevated: theme('colors.gray.800');
    --color-border: theme('colors.gray.700');
  }

  /* 全局基础样式 */
  html, body {
    @apply bg-white text-gray-700;
    font-feature-settings: 'rlig' 1, 'calt' 1; /* 启用连字特性 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer components {
  /* Aurora渐变背景 - 现代Gemini风格 */
  .aura-aurora-bg {
    background-image: linear-gradient(135deg,
      theme('colors.gemini.blue') 0%,
      theme('colors.gemini.purple') 25%,
      theme('colors.gemini.magenta') 75%,
      theme('colors.gemini.orange') 100%
    );
  }

  /* 渐变文字颜色 - 适配浅色主题 */
  .text-on-gradient {
    color: theme('colors.label.primary');
  }

  .text-on-gradient-muted {
    color: theme('colors.label.secondary');
  }

  /* AntD按钮样式覆盖 - 使用Gemini风格 */
  .ant-btn-primary {
    background: linear-gradient(135deg, theme('colors.gemini.blue') 0%, theme('colors.gemini.purple') 100%) !important;
    border: none !important;
    border-radius: 8px !important;
    color: white !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
  }

  .ant-btn-primary:hover {
    opacity: 0.9 !important;
    transform: translateY(-1px) !important;
  }

  /* 预定义一个全局可用的微晶玻璃质感卡片样式 */
  .glass-card {
    @apply bg-white/60 dark:bg-gray-900/60 backdrop-blur-xl border border-white/20 dark:border-gray-700/50 rounded-2xl;
  }

  /* Shimmer 动画效果 */
  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent 25%,
      rgba(255, 255, 255, 0.4) 50%,
      transparent 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite ease-in-out;
  }

  /* 暗色模式下的shimmer效果 */
  .dark .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent 25%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 75%
    );
    background-size: 200% 100%;
  }

  /* 脆弹性动画效果 */
  .animate-bounce-in {
    animation: bounceIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  /* 加载点动画 */
  .loading-dots {
    display: inline-flex;
    align-items: center;
    gap: 2px;
  }

  .loading-dots > div {
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background-color: currentColor;
    animation: loadingDots 1.4s infinite ease-in-out both;
  }

  .loading-dots > div:nth-child(1) { animation-delay: -0.32s; }
  .loading-dots > div:nth-child(2) { animation-delay: -0.16s; }
  .loading-dots > div:nth-child(3) { animation-delay: 0s; }
}

@layer utilities {
  /* 关键帧定义 */
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes bounceIn {
    0% {
      opacity: 0;
      transform: scale3d(0.3, 0.3, 0.3);
    }
    20% {
      transform: scale3d(1.1, 1.1, 1.1);
    }
    40% {
      transform: scale3d(0.9, 0.9, 0.9);
    }
    60% {
      opacity: 1;
      transform: scale3d(1.03, 1.03, 1.03);
    }
    80% {
      transform: scale3d(0.97, 0.97, 0.97);
    }
    100% {
      opacity: 1;
      transform: scale3d(1, 1, 1);
    }
  }

  @keyframes loadingDots {
    0%, 80%, 100% {
      transform: scale(0);
      opacity: 0.5;
    }
    40% {
      transform: scale(1);
      opacity: 1;
    }
  }
} 